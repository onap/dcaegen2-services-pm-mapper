<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20210521 12:16:38.320" generator="Robot 3.2.2 (Python 2.7.17 on linux2)">
<suite source="/home/lasse/upstream/pm-mapper/csit/tests/pmmapper" id="s1" name="plans/pmmapper">
<suite source="/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/pmmapper.robot" id="s1-s1" name="Pmmapper">
<test id="s1-s1-t1" name="Verify PM Mapper Receive Configuraton From Config Binding Service">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.492" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:16:38.493" starttime="20210521 12:16:38.492"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_CONFIG}</arg>
<arg>Received pm-mapper configuration from ConfigBinding Service</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:16:38.494" level="INFO">Starting process:
{ head -n 100 | tail -50;} &lt; /tmp/pmmapper.log</msg>
<msg timestamp="20210521 12:16:38.497" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:38.498" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:16:38.499" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.499" starttime="20210521 12:16:38.494"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.501" level="INFO">2021-05-21T09:16:21.589Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:16:21.631Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		5b2ae18b-e626-4477-ad22-33860c4fab99		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:16:21.639Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:16:21.691Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": []}, "key_store_path": "/opt/app/pm-mapper/etc/certs/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/certs/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/certs/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/certs/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:16:21.835Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:16:22.502Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Attempt to read threads configuration			
2021-05-21T09:16:22.504Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		PROCESSING_THREADS_COUNT env not present. Setting threads count to available cores: 4			
2021-05-21T09:16:22.505Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		THREADS_MULTIPLIER env not present. Setting multiplier to default value: 1			
2021-05-21T09:16:22.506Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Processing threads configuration: Processing threads count - 4, Processing threads multiplier - 1 			
2021-05-21T09:16:22.506Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Amount of files processing threads: 4 			
2021-05-21T09:16:22.509Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Trying to read PROCESSING_LIMIT_RATE env.			
2021-05-21T09:16:22.511Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		PROCESSING_LIMIT_RATE env not present. Setting limit rate to default value: 1			
2021-05-21T09:16:22.714Z	main	INFO	io.undertow		starting server: Undertow - 2.2.3.Final			
2021-05-21T09:16:22.723Z	main	INFO	org.xnio		XNIO version 3.8.0.Final			
2021-05-21T09:16:22.736Z	main	INFO	org.xnio.nio		XNIO NIO Implementation Version 3.8.0.Final			
2021-05-21T09:16:22.854Z	main	INFO	org.jboss.threads		JBoss Threads version 3.1.0.Final			</msg>
<status status="PASS" endtime="20210521 12:16:38.501" starttime="20210521 12:16:38.500"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:16:38.501" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.501" starttime="20210521 12:16:38.501"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:16:38.503" starttime="20210521 12:16:38.503"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.504" starttime="20210521 12:16:38.493"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:16:38.505" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:16:38.505" starttime="20210521 12:16:38.505"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:16:38.506" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:38.510" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:38.655" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:16:38.655" starttime="20210521 12:16:38.506"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.656" starttime="20210521 12:16:38.505"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.656" starttime="20210521 12:16:38.504"></status>
</kw>
<doc>Verify 3gpp pm mapper successfully receive config data from CBS</doc>
<tags>
<tag>PM_MAPPER_01</tag>
</tags>
<status status="PASS" endtime="20210521 12:16:38.656" critical="yes" starttime="20210521 12:16:38.490"></status>
</test>
<test id="s1-s1-t2" name="Verify Health Check returns 200 when a REST GET request to healthcheck url">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.659" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:16:38.659" starttime="20210521 12:16:38.658"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `GET On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${HEALTHCHECK_ENDPOINT}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:16:38.660" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:16:38.729" level="INFO">GET Request : url=http://172.18.0.8:8081/healthcheck 
 path_url=/healthcheck 
 headers={'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.25.1'} 
 body=None 
 </msg>
<msg timestamp="20210521 12:16:38.729" level="INFO">GET Response : url=http://172.18.0.8:8081/healthcheck 
 status=200, reason=OK 
 headers={'Date': 'Fri, 21 May 2021 09:16:38 GMT', 'Connection': 'keep-alive', 'Content-Length': '2'} 
 body=OK 
 </msg>
<msg timestamp="20210521 12:16:38.730" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.730" starttime="20210521 12:16:38.660"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>200</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.732" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.732" starttime="20210521 12:16:38.731"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.732" starttime="20210521 12:16:38.730"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:16:38.734" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:16:38.734" starttime="20210521 12:16:38.733"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:16:38.735" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:38.739" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:38.878" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:16:38.879" starttime="20210521 12:16:38.735"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.879" starttime="20210521 12:16:38.734"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.879" starttime="20210521 12:16:38.733"></status>
</kw>
<doc>Verify Health Check returns 200 when a REST GET request to healthcheck url</doc>
<tags>
<tag>PM_MAPPER_02</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:16:38.879" critical="yes" starttime="20210521 12:16:38.657"></status>
</test>
<test id="s1-s1-t3" name="Verify 3GPP PM Mapper responds appropriately when no metadata is provided">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.882" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:16:38.882" starttime="20210521 12:16:38.881"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=3</arg>
<arg>Content-Type=application/xml</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:16:38.883" level="INFO">${headers} = {u'X-ONAP-RequestID': u'3', u'Content-Type': u'application/xml'}</msg>
<status status="PASS" endtime="20210521 12:16:38.883" starttime="20210521 12:16:38.883"></status>
</kw>
<kw name="Put Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `PUT On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${DELIVERY_ENDPOINT}/filename</arg>
<arg>data='${EMPTY}'</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:16:38.884" level="WARN">Keyword 'RequestsLibrary.Put Request' is deprecated. Please use `PUT On Session` instead.</msg>
<msg timestamp="20210521 12:16:38.895" level="INFO">PUT Request : url=http://172.18.0.8:8081/delivery/filename 
 path_url=/delivery/filename 
 headers={'Content-Length': '2', 'Accept-Encoding': 'gzip, deflate', 'X-ONAP-RequestID': u'3', 'User-Agent': 'python-requests/2.25.1', 'Connection': 'keep-alive', 'Accept': '*/*', 'Content-Type': u'application/xml'} 
 body='' 
 </msg>
<msg timestamp="20210521 12:16:38.895" level="INFO">PUT Response : url=http://172.18.0.8:8081/delivery/filename 
 status=400, reason=Bad Request 
 headers={'Date': 'Fri, 21 May 2021 09:16:38 GMT', 'Connection': 'keep-alive', 'Content-Length': '17'} 
 body=Missing Metadata. 
 </msg>
<msg timestamp="20210521 12:16:38.896" level="INFO">${resp} = &lt;Response [400]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.896" starttime="20210521 12:16:38.884"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>400</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.897" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.898" starttime="20210521 12:16:38.897"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.898" starttime="20210521 12:16:38.896"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.content}</arg>
<arg>Missing Metadata.</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:38.900" level="INFO">Argument types are:
&lt;type 'str'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:38.900" starttime="20210521 12:16:38.900"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:38.901" starttime="20210521 12:16:38.898"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=3</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:16:38.904" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:38.907" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:39.057" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:16:39.057" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.057" starttime="20210521 12:16:38.904"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.059" level="INFO">2021-05-21T09:16:38.889Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=3, ServiceName=/delivery/filename, InvocationID=3fd34268-376b-4eae-b4f8-b62f04d2be3f, InvokeTimestamp=2021-05-21T09:16:38.889045Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:16:38.892Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=3, ServiceName=/delivery/filename, InvocationID=3fd34268-376b-4eae-b4f8-b62f04d2be3f, InvokeTimestamp=2021-05-21T09:16:38.889045Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Bad Request: no metadata found under 'X-DMAAP-DR-META' header.	org.onap.dcaegen2.services.pmmapper.exceptions.NoMetadataException: Metadata Not found\n\tat org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler.lambda$getMetadata$1(DeliveryHandler.java:84)\n\tat java.base/java.util.Optional.orElseThrow(Unknown Source)\n\tat org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler.getMetadata(DeliveryHandler.java:84)\n\tat org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler.handleRequest(DeliveryHandler.java:101)\n\tat io.undertow.server.RoutingHandler.handleRequest(RoutingHandler.java:93)\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n\tat io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)\n\tat io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\n\tat io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)\n\tat io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)\n\tat io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n\tat org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)\n\tat org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n\tat org.xnio.nio.QueuedNioTcpServer2.acceptTask(QueuedNioTcpServer2.java:178)\n\tat org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:479)\n		
2021-05-21T09:16:38.896Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=3, ServiceName=/delivery/filename, ResponseDescription=, InvocationID=3fd34268-376b-4eae-b4f8-b62f04d2be3f, Severity=, InvokeTimestamp=2021-05-21T09:16:38.889045Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	</msg>
<status status="PASS" endtime="20210521 12:16:39.059" starttime="20210521 12:16:39.058"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:16:39.060" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.060" starttime="20210521 12:16:39.059"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:16:39.060" starttime="20210521 12:16:39.060"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.061" starttime="20210521 12:16:38.901"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:16:39.062" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:16:39.062" starttime="20210521 12:16:39.062"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:16:39.063" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:39.066" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:39.224" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:16:39.225" starttime="20210521 12:16:39.063"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.226" starttime="20210521 12:16:39.062"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.227" starttime="20210521 12:16:39.061"></status>
</kw>
<doc>Verify 3GPP PM Mapper responds 400 with the message "Missing Metadata." when no metadata is provided</doc>
<tags>
<tag>PM_MAPPER_03</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:16:39.227" critical="yes" starttime="20210521 12:16:38.880"></status>
</test>
<test id="s1-s1-t4" name="Verify 3GPP PM Mapper responds appropriately when invalid metadata is provided">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.230" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:16:39.230" starttime="20210521 12:16:39.229"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=4</arg>
<arg>X-DMAAP-DR-META='not metadata'</arg>
<arg>Content-Type=application/xml</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:16:39.231" level="INFO">${headers} = {u'X-ONAP-RequestID': u'4', u'X-DMAAP-DR-META': u"'not metadata'", u'Content-Type': u'application/xml'}</msg>
<status status="PASS" endtime="20210521 12:16:39.231" starttime="20210521 12:16:39.231"></status>
</kw>
<kw name="Put Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `PUT On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${DELIVERY_ENDPOINT}/filename</arg>
<arg>data='${EMPTY}'</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:16:39.232" level="WARN">Keyword 'RequestsLibrary.Put Request' is deprecated. Please use `PUT On Session` instead.</msg>
<msg timestamp="20210521 12:16:39.245" level="INFO">PUT Request : url=http://172.18.0.8:8081/delivery/filename 
 path_url=/delivery/filename 
 headers={'Content-Length': '2', 'Accept-Encoding': 'gzip, deflate', 'X-ONAP-RequestID': u'4', 'User-Agent': 'python-requests/2.25.1', 'Connection': 'keep-alive', 'Accept': '*/*', 'X-DMAAP-DR-META': u"'not metadata'", 'Content-Type': u'application/xml'} 
 body='' 
 </msg>
<msg timestamp="20210521 12:16:39.245" level="INFO">PUT Response : url=http://172.18.0.8:8081/delivery/filename 
 status=400, reason=Bad Request 
 headers={'Date': 'Fri, 21 May 2021 09:16:39 GMT', 'Connection': 'keep-alive', 'Content-Length': '19'} 
 body=Malformed Metadata. 
 </msg>
<msg timestamp="20210521 12:16:39.245" level="INFO">${resp} = &lt;Response [400]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.246" starttime="20210521 12:16:39.232"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>400</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.247" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.247" starttime="20210521 12:16:39.247"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.247" starttime="20210521 12:16:39.246"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.content}</arg>
<arg>Malformed Metadata.</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.249" level="INFO">Argument types are:
&lt;type 'str'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.250" starttime="20210521 12:16:39.249"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.250" starttime="20210521 12:16:39.248"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=4</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:16:39.251" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:39.254" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:39.395" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:16:39.395" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.395" starttime="20210521 12:16:39.251"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.396" level="INFO">2021-05-21T09:16:39.236Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=4, ServiceName=/delivery/filename, InvocationID=c502116d-26a6-4238-a629-f75788726baa, InvokeTimestamp=2021-05-21T09:16:39.235980Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:16:39.238Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=4, ServiceName=/delivery/filename, InvocationID=c502116d-26a6-4238-a629-f75788726baa, InvokeTimestamp=2021-05-21T09:16:39.235980Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Bad Request: Failure to parse metadata	java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $\n\tat com.google.gson.internal.bind.JsonTreeReader.expect(JsonTreeReader.java:163)\n\tat com.google.gson.internal.bind.JsonTreeReader.beginObject(JsonTreeReader.java:88)\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:215)\n\t... 24 common frames omitted\nWrapped by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:226)\n\tat com.google.gson.Gson.fromJson(Gson.java:932)\n\tat com.google.gson.Gson.fromJson(Gson.java:1003)\n\tat org.onap.dcaegen2.services.pmmapper.utils.RequiredFieldDeserializer.deserialize(RequiredFieldDeserializer.java:45)\n\tat com.google.gson.internal.bind.TreeTypeAdapter.read(TreeTypeAdapter.java:69)\n\tat com.google.gson.Gson.fromJson(Gson.java:932)\n\tat com.google.gson.Gson.fromJson(Gson.java:897)\n\tat com.google.gson.Gson.fromJson(Gson.java:846)\n\tat com.google.gson.Gson.fromJson(Gson.java:817)\n\tat org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler.getMetadata(DeliveryHandler.java:85)\n\tat org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler.handleRequest(DeliveryHandler.java:101)\n\tat io.undertow.server.RoutingHandler.handleRequest(RoutingHandler.java:93)\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n\tat io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)\n\tat io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\n\tat io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)\n\tat io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)\n\tat io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n\tat org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)\n\tat org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n\tat org.xnio.nio.QueuedNioTcpServer2.acceptTask(QueuedNioTcpServer2.java:178)\n\tat org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:479)\n		
2021-05-21T09:16:39.242Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=4, ServiceName=/delivery/filename, ResponseDescription=, InvocationID=c502116d-26a6-4238-a629-f75788726baa, Severity=, InvokeTimestamp=2021-05-21T09:16:39.235980Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	</msg>
<status status="PASS" endtime="20210521 12:16:39.397" starttime="20210521 12:16:39.396"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:16:39.397" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.397" starttime="20210521 12:16:39.397"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:16:39.398" starttime="20210521 12:16:39.398"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.398" starttime="20210521 12:16:39.250"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:16:39.399" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:16:39.400" starttime="20210521 12:16:39.399"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:16:39.401" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:39.403" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:39.548" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:16:39.549" starttime="20210521 12:16:39.400"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.549" starttime="20210521 12:16:39.400"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.549" starttime="20210521 12:16:39.399"></status>
</kw>
<doc>Verify 3GPP PM Mapper responds 400 with the message "Malformed Metadata." when invalid metadata is provided</doc>
<tags>
<tag>PM_MAPPER_04</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:16:39.549" critical="yes" starttime="20210521 12:16:39.228"></status>
</test>
<test id="s1-s1-t5" name="Verify that PM Mapper logs successful when a file that contains no measdata is provided">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.552" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:16:39.553" starttime="20210521 12:16:39.551"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${NO_MEASDATA_PATH}</arg>
<arg>${VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=5</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:16:39.554" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A_no_measdata.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A_no_measdata.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:16:39.554" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"&gt;
    &lt;fileHeader dnPrefix="some dnPrefix" vendorName="FooBar Ltd"
     ...</msg>
<status status="PASS" endtime="20210521 12:16:39.554" starttime="20210521 12:16:39.554"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:16:39.555" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:16:39.555" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:16:39.555" starttime="20210521 12:16:39.555"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:16:39.556" level="INFO">${filename} = A_no_measdata.xml</msg>
<status status="PASS" endtime="20210521 12:16:39.556" starttime="20210521 12:16:39.555"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:16:39.559" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=5', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "st...</msg>
<status status="PASS" endtime="20210521 12:16:39.559" starttime="20210521 12:16:39.558"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:16:39.747" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:16:39.747" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.748" starttime="20210521 12:16:39.560"></status>
</kw>
<msg timestamp="20210521 12:16:39.748" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.748" starttime="20210521 12:16:39.556"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:39.749" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:39.750" starttime="20210521 12:16:39.749"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:39.750" starttime="20210521 12:16:39.748"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:16:49.751" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:16:49.752" starttime="20210521 12:16:39.750"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:49.752" starttime="20210521 12:16:39.553"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>MeasData is empty</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:16:49.755" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:49.760" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:49.905" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:16:49.906" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:16:49.907" starttime="20210521 12:16:49.754"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:16:49.908" level="INFO">2021-05-21T09:16:40.127Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:16:40.134Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, ResponseDescription=, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, Severity=, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:16:40.138Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:16:40.139Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	No filter specified in config: []			
2021-05-21T09:16:40.150Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:16:40.381Z	Thread-1	ERROR	org.onap.dcaegen2.services.pmmapper.App	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Unable to split MeasCollecFile	java.util.NoSuchElementException: MeasData is empty.\n\tat org.onap.dcaegen2.services.pmmapper.utils.MeasSplitter.split(MeasSplitter.java:55)\n\tat org.onap.dcaegen2.services.pmmapper.App.split(App.java:283)\n\tat org.onap.dcaegen2.services.pmmapper.App.lambda$new$5(App.java:153)\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:374)\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.tryOnNext(FluxFilter.java:142)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.tryOnNext(FluxPeekFuseable.java:880)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.runAsync(FluxPublishOn.java:992)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.run(FluxPublishOn.java:1067)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.base/java.lang.Thread.run(Unknown Source)\n		
2021-05-21T09:16:40.385Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:16:40.389Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588599719.dmaap-dr-node.			
2021-05-21T09:16:40.811Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:16:49.909" starttime="20210521 12:16:49.907"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:16:49.909" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:49.910" starttime="20210521 12:16:49.909"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:16:49.911" starttime="20210521 12:16:49.910"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:49.911" starttime="20210521 12:16:49.753"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=5</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:16:49.912" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:49.915" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:50.058" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:16:50.059" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:16:50.059" starttime="20210521 12:16:49.912"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:16:50.060" level="INFO">2021-05-21T09:16:40.127Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:16:40.134Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, ResponseDescription=, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, Severity=, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:16:40.138Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:16:40.139Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	No filter specified in config: []			
2021-05-21T09:16:40.150Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:16:40.381Z	Thread-1	ERROR	org.onap.dcaegen2.services.pmmapper.App	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Unable to split MeasCollecFile	java.util.NoSuchElementException: MeasData is empty.\n\tat org.onap.dcaegen2.services.pmmapper.utils.MeasSplitter.split(MeasSplitter.java:55)\n\tat org.onap.dcaegen2.services.pmmapper.App.split(App.java:283)\n\tat org.onap.dcaegen2.services.pmmapper.App.lambda$new$5(App.java:153)\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:374)\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.tryOnNext(FluxFilter.java:142)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.tryOnNext(FluxPeekFuseable.java:880)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.runAsync(FluxPublishOn.java:992)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.run(FluxPublishOn.java:1067)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.base/java.lang.Thread.run(Unknown Source)\n		
2021-05-21T09:16:40.385Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:16:40.389Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588599719.dmaap-dr-node.			
2021-05-21T09:16:40.811Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=5, ServiceName=/delivery/A_no_measdata.xml, InvocationID=395a8e5d-6040-4f9c-aa35-d52aeae02898, InvokeTimestamp=2021-05-21T09:16:40.127040Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:16:50.061" starttime="20210521 12:16:50.059"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:16:50.061" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:50.062" starttime="20210521 12:16:50.061"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:16:50.062" starttime="20210521 12:16:50.062"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:50.063" starttime="20210521 12:16:49.911"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:16:50.064" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:16:50.064" starttime="20210521 12:16:50.064"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:16:50.065" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:16:50.068" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:16:50.209" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:16:50.210" starttime="20210521 12:16:50.065"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:50.210" starttime="20210521 12:16:50.064"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:50.211" starttime="20210521 12:16:50.063"></status>
</kw>
<doc>Verify that PM Mapper logs successful when a file that contains no measdata is provided</doc>
<tags>
<tag>PM_MAPPER_05</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:16:50.211" critical="yes" starttime="20210521 12:16:39.550"></status>
</test>
<test id="s1-s1-t6" name="Verify that PM Mapper throws Event failed validation against schema error when no managed element content is provided">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:16:50.215" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:16:50.215" starttime="20210521 12:16:50.214"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${NO_MANAGED_ELEMENT_PATH}</arg>
<arg>${VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=6</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:16:50.217" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A_no_managed_element.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A_no_managed_element.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:16:50.217" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"&gt;
    &lt;fileHeader dnPrefix="some dnPrefix" vendorName="FooBar Ltd"
     ...</msg>
<status status="PASS" endtime="20210521 12:16:50.217" starttime="20210521 12:16:50.216"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:16:50.218" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:16:50.218" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:16:50.218" starttime="20210521 12:16:50.217"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:16:50.219" level="INFO">${filename} = A_no_managed_element.xml</msg>
<status status="PASS" endtime="20210521 12:16:50.219" starttime="20210521 12:16:50.218"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:16:50.221" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=6', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "st...</msg>
<status status="PASS" endtime="20210521 12:16:50.221" starttime="20210521 12:16:50.220"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:16:50.273" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:16:50.273" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:50.273" starttime="20210521 12:16:50.221"></status>
</kw>
<msg timestamp="20210521 12:16:50.273" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:16:50.273" starttime="20210521 12:16:50.219"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:16:50.275" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:16:50.275" starttime="20210521 12:16:50.274"></status>
</kw>
<status status="PASS" endtime="20210521 12:16:50.276" starttime="20210521 12:16:50.274"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:17:00.277" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:17:00.277" starttime="20210521 12:16:50.276"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:00.278" starttime="20210521 12:16:50.215"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>XML validation failed</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:00.282" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:00.288" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:00.434" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:00.434" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.434" starttime="20210521 12:17:00.280"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:00.435" level="INFO">2021-05-21T09:16:51.126Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:16:51.129Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, ResponseDescription=, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, Severity=, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:16:51.131Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:16:51.131Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	No filter specified in config: []			
2021-05-21T09:16:51.180Z	Thread-2	ERROR	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation failed Event(httpServerExchange=HttpServerExchange{ PUT /delivery/A_no_managed_element.xml}, body=&lt;?xml version="1.0" encoding="UTF-8"?&gt;\n&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"&gt;\n    &lt;fileHeader dnPrefix="some dnPrefix" vendorName="FooBar Ltd"\n                fileFormatVersion="32.435 V10.0"&gt;\n        &lt;fileSender localDn="Dublin"/&gt;\n        &lt;measCollec beginTime="2018-10-02T12:00:00+01:00"/&gt;\n    &lt;/fileHeader&gt;\n    &lt;measData&gt;\n        &lt;measInfo measInfoId="some measInfoId"&gt;\n            &lt;job jobId="some job Id"/&gt;\n            &lt;granPeriod endTime="2018-10-02T12:15:00Z" duration="some duration"/&gt;\n            &lt;repPeriod duration="PT900S"/&gt;\n            &lt;measType p="1"&gt;a&lt;/measType&gt;\n            &lt;measType p="2"&gt;b&lt;/measType&gt;\n            &lt;measType p="3"&gt;c&lt;/measType&gt;\n            &lt;measValue measObjLdn="some measObjLdn"&gt;\n                &lt;r p="1"&gt;86&lt;/r&gt;\n                &lt;r p="2"&gt;67&lt;/r&gt;\n                &lt;r p="3"&gt;14&lt;/r&gt;\n                &lt;suspect&gt;false&lt;/suspect&gt;\n            &lt;/measValue&gt;\n        &lt;/measInfo&gt;\n    &lt;/measData&gt;\n    &lt;fileFooter&gt;\n        &lt;measCollec endTime="2018-10-02T12:15:00+01:00"/&gt;\n    &lt;/fileFooter&gt;\n&lt;/measCollecFile&gt;, metadata=EventMetadata(productName=gnb, vendorName=Ericsson, startEpochMicrosec=1538478900000, lastEpochMicrosec=1538478000000, sourceName=oteNB5309, timeZoneOffset=UTC+05.00, location=ftpes://192.168.0.101:22/ftp/rop/A20161224.1045-1100.bin.gz, compression=gzip, fileFormatType=org.3GPP.32.435#measCollec, fileFormatVersion=V9), mdc={InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper}, publishIdentity=1621588610269.dmaap-dr-node, measurement=null, filter=null, ves=null)	org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element '{"http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec":measInfo}'. One of '{"http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec":managedElement}' is expected.\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)\n\tat java.xml/javax.xml.validation.Validator.validate(Unknown Source)\n\tat org.onap.dcaegen2.services.pmmapper.utils.XMLValidator.validate(XMLValidator.java:73)\n\tat org.onap.dcaegen2.services.pmmapper.App.validate(App.java:241)\n\tat org.onap.dcaegen2.services.pmmapper.App.lambda$new$4(App.java:152)\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.tryOnNext(FluxFilter.java:131)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.tryOnNext(FluxPeekFuseable.java:880)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.runAsync(FluxPublishOn.java:992)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.run(FluxPublishOn.java:1067)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.base/java.lang.Thread.run(Unknown Source)\n		
2021-05-21T09:16:51.184Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:16:51.184Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588610269.dmaap-dr-node.			
2021-05-21T09:16:51.223Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:17:00.436" starttime="20210521 12:17:00.435"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:00.436" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.437" starttime="20210521 12:17:00.436"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:00.437" starttime="20210521 12:17:00.437"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:00.437" starttime="20210521 12:17:00.278"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=6</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:00.439" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:00.442" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:00.602" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:00.602" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.602" starttime="20210521 12:17:00.438"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:00.604" level="INFO">2021-05-21T09:16:51.126Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:16:51.129Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, ResponseDescription=, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, Severity=, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:16:51.131Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:16:51.131Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	No filter specified in config: []			
2021-05-21T09:16:51.180Z	Thread-2	ERROR	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation failed Event(httpServerExchange=HttpServerExchange{ PUT /delivery/A_no_managed_element.xml}, body=&lt;?xml version="1.0" encoding="UTF-8"?&gt;\n&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"&gt;\n    &lt;fileHeader dnPrefix="some dnPrefix" vendorName="FooBar Ltd"\n                fileFormatVersion="32.435 V10.0"&gt;\n        &lt;fileSender localDn="Dublin"/&gt;\n        &lt;measCollec beginTime="2018-10-02T12:00:00+01:00"/&gt;\n    &lt;/fileHeader&gt;\n    &lt;measData&gt;\n        &lt;measInfo measInfoId="some measInfoId"&gt;\n            &lt;job jobId="some job Id"/&gt;\n            &lt;granPeriod endTime="2018-10-02T12:15:00Z" duration="some duration"/&gt;\n            &lt;repPeriod duration="PT900S"/&gt;\n            &lt;measType p="1"&gt;a&lt;/measType&gt;\n            &lt;measType p="2"&gt;b&lt;/measType&gt;\n            &lt;measType p="3"&gt;c&lt;/measType&gt;\n            &lt;measValue measObjLdn="some measObjLdn"&gt;\n                &lt;r p="1"&gt;86&lt;/r&gt;\n                &lt;r p="2"&gt;67&lt;/r&gt;\n                &lt;r p="3"&gt;14&lt;/r&gt;\n                &lt;suspect&gt;false&lt;/suspect&gt;\n            &lt;/measValue&gt;\n        &lt;/measInfo&gt;\n    &lt;/measData&gt;\n    &lt;fileFooter&gt;\n        &lt;measCollec endTime="2018-10-02T12:15:00+01:00"/&gt;\n    &lt;/fileFooter&gt;\n&lt;/measCollecFile&gt;, metadata=EventMetadata(productName=gnb, vendorName=Ericsson, startEpochMicrosec=1538478900000, lastEpochMicrosec=1538478000000, sourceName=oteNB5309, timeZoneOffset=UTC+05.00, location=ftpes://192.168.0.101:22/ftp/rop/A20161224.1045-1100.bin.gz, compression=gzip, fileFormatType=org.3GPP.32.435#measCollec, fileFormatVersion=V9), mdc={InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper}, publishIdentity=1621588610269.dmaap-dr-node, measurement=null, filter=null, ves=null)	org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element '{"http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec":measInfo}'. One of '{"http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec":managedElement}' is expected.\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.StreamValidatorHelper.validate(Unknown Source)\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.validation.ValidatorImpl.validate(Unknown Source)\n\tat java.xml/javax.xml.validation.Validator.validate(Unknown Source)\n\tat org.onap.dcaegen2.services.pmmapper.utils.XMLValidator.validate(XMLValidator.java:73)\n\tat org.onap.dcaegen2.services.pmmapper.App.validate(App.java:241)\n\tat org.onap.dcaegen2.services.pmmapper.App.lambda$new$4(App.java:152)\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.tryOnNext(FluxFilter.java:131)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.tryOnNext(FluxFilter.java:276)\n\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.tryOnNext(FluxPeekFuseable.java:880)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.runAsync(FluxPublishOn.java:992)\n\tat reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.run(FluxPublishOn.java:1067)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.base/java.lang.Thread.run(Unknown Source)\n		
2021-05-21T09:16:51.184Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:16:51.184Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588610269.dmaap-dr-node.			
2021-05-21T09:16:51.223Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=6, ServiceName=/delivery/A_no_managed_element.xml, InvocationID=4c4f7979-aafa-45cd-993e-c1c4bea16865, InvokeTimestamp=2021-05-21T09:16:51.125699Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:17:00.604" starttime="20210521 12:17:00.603"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:00.605" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.605" starttime="20210521 12:17:00.604"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:00.606" starttime="20210521 12:17:00.605"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:00.606" starttime="20210521 12:17:00.438"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:17:00.607" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:17:00.607" starttime="20210521 12:17:00.607"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:17:00.609" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:00.612" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:00.756" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:17:00.756" starttime="20210521 12:17:00.608"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:00.756" starttime="20210521 12:17:00.608"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:00.757" starttime="20210521 12:17:00.606"></status>
</kw>
<doc>Verify 3gpp pm mapper responds with an error when no managed element content is provided</doc>
<tags>
<tag>PM_MAPPER_06</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:17:00.757" critical="yes" starttime="20210521 12:16:50.213"></status>
</test>
<test id="s1-s1-t7" name="Verify that PM Mapper maps Type-C xml file and publish 3gpp perf VES evnets to message router">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:17:00.760" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:17:00.760" starttime="20210521 12:17:00.759"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${TYPE-C_PM_DATA_FILE_PATH}</arg>
<arg>${VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=7</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:17:00.762" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/C20190328.0000-0015.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/C20190328.0000-0015.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:00.762" level="INFO">${pmdata} = &lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"&gt;
    &lt;fileHeader dnPrefix="some dnPrefix" vendorName="FooBar Ltd"
                fileFormatVersion="32.435 V1...</msg>
<status status="PASS" endtime="20210521 12:17:00.762" starttime="20210521 12:17:00.761"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:17:00.763" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:00.763" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:17:00.763" starttime="20210521 12:17:00.762"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:17:00.764" level="INFO">${filename} = C20190328.0000-0015.xml</msg>
<status status="PASS" endtime="20210521 12:17:00.764" starttime="20210521 12:17:00.763"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:17:00.767" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=7', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "st...</msg>
<status status="PASS" endtime="20210521 12:17:00.767" starttime="20210521 12:17:00.765"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:00.822" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:17:00.822" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.822" starttime="20210521 12:17:00.767"></status>
</kw>
<msg timestamp="20210521 12:17:00.823" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.823" starttime="20210521 12:17:00.764"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:17:00.826" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:00.826" starttime="20210521 12:17:00.825"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:00.826" starttime="20210521 12:17:00.823"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:17:10.829" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:17:10.829" starttime="20210521 12:17:00.827"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:10.829" starttime="20210521 12:17:00.760"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Successfully published VES events to messagerouter</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:10.831" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:10.833" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:10.986" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:10.986" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:10.987" starttime="20210521 12:17:10.830"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:10.988" level="INFO">2021-05-21T09:17:02.128Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:17:02.130Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, ResponseDescription=, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, Severity=, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:17:02.131Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:17:02.131Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	No filter specified in config: []			
2021-05-21T09:17:02.157Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:17:02.228Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Skipping filtering by measTypes as filter config does not contain measTypes.			
2021-05-21T09:17:02.229Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Skipping filtering by measTypes as filter config does not contain measTypes.			
2021-05-21T09:17:02.229Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Skipping filtering by measTypes as filter config does not contain measTypes.			
2021-05-21T09:17:02.230Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:17:02.326Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:17:02.327Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:17:02.352Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:17:02.352Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:17:02.368Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:17:02.369Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=7, ServiceName=/delivery/C20190328.0000-0015.xml, InvocationID=a1d331e0-6e2b-4097-b78e-7166a8b5517d, InvokeTimestamp=2021-05-21T09:17:02.127311Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:17:02.816Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:17:02.817Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		57eb1283-d788-4fa4-982f-67233e5240ba		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:17:02.817Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588620818.dmaap-dr-node.			
2021-05-21T09:17:02.847Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:17:02.848Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			</msg>
<status status="PASS" endtime="20210521 12:17:10.988" starttime="20210521 12:17:10.987"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:10.989" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:10.989" starttime="20210521 12:17:10.988"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:10.990" starttime="20210521 12:17:10.989"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:10.990" starttime="20210521 12:17:10.830"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:17:10.991" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:17:10.992" starttime="20210521 12:17:10.991"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:17:10.993" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:10.999" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:11.141" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:17:11.141" starttime="20210521 12:17:10.992"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:11.143" starttime="20210521 12:17:10.992"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:11.143" starttime="20210521 12:17:10.991"></status>
</kw>
<doc>Verify that PM Mapper maps Type-C xml file and publish 3gpp perf VES evnets to message router.</doc>
<tags>
<tag>PM_MAPPER_07</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:17:11.144" critical="yes" starttime="20210521 12:17:00.758"></status>
</test>
<test id="s1-s1-t8" name="Verify 3GPP PM Mapper maps Type-A file based on counter filtering and publish 3gpp perf VES evnets to message router">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:17:11.146" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:17:11.147" starttime="20210521 12:17:11.146"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_PM_FILTER}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:11.148" level="INFO">Starting process:
curl 'http://172.18.0.4:8500/v1/kv/pmmapper?dc=dc1' -X PUT -H 'Accept: application/^Con' -H 'Content-Type: application/json' -H 'X-Requested-With: XMLHttpRequest' --data @/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/pm_filter_config.json</msg>
<msg timestamp="20210521 12:17:11.151" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:11.163" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:11.164" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:11.164" starttime="20210521 12:17:11.147"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `GET On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${RECONFIGURE_ENDPOINT}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:11.164" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:17:11.215" level="INFO">GET Request : url=http://172.18.0.8:8081/reconfigure 
 path_url=/reconfigure 
 headers={'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.25.1'} 
 body=None 
 </msg>
<msg timestamp="20210521 12:17:11.216" level="INFO">GET Response : url=http://172.18.0.8:8081/reconfigure 
 status=200, reason=OK 
 headers={'Date': 'Fri, 21 May 2021 09:17:11 GMT', 'Connection': 'keep-alive', 'Content-Length': '2'} 
 body=OK 
 </msg>
<msg timestamp="20210521 12:17:11.216" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:11.216" starttime="20210521 12:17:11.164"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>5s</arg>
</arguments>
<msg timestamp="20210521 12:17:16.218" level="INFO">Slept 5 seconds</msg>
<status status="PASS" endtime="20210521 12:17:16.219" starttime="20210521 12:17:11.216"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${TYPE-A_PM_DATA_FILE_PATH}</arg>
<arg>${VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=8</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:17:16.221" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A20181002.0000-1000-0015-1000_5G.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A20181002.0000-1000-0015-1000_5G.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:16.221" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="MeasDataCollection.xsl"?&gt;
&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"
xmlns:...</msg>
<status status="PASS" endtime="20210521 12:17:16.221" starttime="20210521 12:17:16.220"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:17:16.222" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:16.222" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:17:16.222" starttime="20210521 12:17:16.221"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:17:16.223" level="INFO">${filename} = A20181002.0000-1000-0015-1000_5G.xml</msg>
<status status="PASS" endtime="20210521 12:17:16.223" starttime="20210521 12:17:16.222"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:17:16.226" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=8', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "st...</msg>
<status status="PASS" endtime="20210521 12:17:16.226" starttime="20210521 12:17:16.224"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:16.260" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:17:16.260" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:16.260" starttime="20210521 12:17:16.226"></status>
</kw>
<msg timestamp="20210521 12:17:16.260" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:16.260" starttime="20210521 12:17:16.223"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:17:16.262" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:16.262" starttime="20210521 12:17:16.261"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:16.262" starttime="20210521 12:17:16.260"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:17:26.263" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:17:26.264" starttime="20210521 12:17:16.262"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:26.264" starttime="20210521 12:17:16.219"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Successfully published VES events to messagerouter</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:26.266" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:26.270" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:26.418" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:26.419" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:26.419" starttime="20210521 12:17:26.266"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:26.421" level="INFO">2021-05-21T09:17:11.168Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:17:11.168Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:17:11.169Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:17:11.201Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": ["attTCHSeizures", "succTCHSeizures2", "succImmediateAssignProcs8"]}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:17:11.209Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:17:11.213Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Configuration update detected.			
2021-05-21T09:17:11.213Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Reconfiguring configurables			
2021-05-21T09:17:11.214Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=fb33ce64-f600-41a8-bd53-9391e948ea1f, ServiceName=/reconfigure, ResponseDescription=, InvocationID=5a1f5461-aea6-4e45-8e8c-fdf65e0603b8, Severity=, InvokeTimestamp=2021-05-21T09:17:11.168010Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	
2021-05-21T09:17:18.647Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:17:18.657Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, ResponseDescription=, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, Severity=, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:17:18.667Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:17:18.671Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[attTCHSeizures, succTCHSeizures2, succImmediateAssignProcs8])			
2021-05-21T09:17:18.696Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:17:18.732Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:17:18.747Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:17:18.747Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:17:18.764Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:17:18.765Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=8, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=0b8afd14-2be8-4e5c-b85d-d26d022ed945, InvokeTimestamp=2021-05-21T09:17:18.646227Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:17:18.775Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:17:18.775Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		aef4f4c4-b63d-453a-be61-2e96f2d20569		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:17:18.775Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588636256.dmaap-dr-node.			
2021-05-21T09:17:18.811Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:17:18.811Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			
2021-05-21T09:17:22.571Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:17:22.574Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		e9754219-8894-49cd-9085-5e573b0349be		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:17:22.575Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:17:22.618Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": ["attTCHSeizures", "succTCHSeizures2", "succImmediateAssignProcs8"]}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:17:22.629Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Received pm-mapper configuration from ConfigBinding Service			</msg>
<status status="PASS" endtime="20210521 12:17:26.421" starttime="20210521 12:17:26.420"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:26.422" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:26.422" starttime="20210521 12:17:26.421"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:26.423" starttime="20210521 12:17:26.422"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:26.423" starttime="20210521 12:17:26.264"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:17:26.424" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:17:26.424" starttime="20210521 12:17:26.424"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:17:26.426" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:26.429" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:26.577" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:17:26.577" starttime="20210521 12:17:26.425"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:26.578" starttime="20210521 12:17:26.424"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:26.578" starttime="20210521 12:17:26.423"></status>
</kw>
<doc>Verify 3GPP PM Mapper maps Type-A file and publish 3gpp perf VES evnets to message router.</doc>
<tags>
<tag>PM_MAPPER_08</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:17:26.579" critical="yes" starttime="20210521 12:17:11.144"></status>
</test>
<test id="s1-s1-t9" name="Verify that PM Mapper correctly identifies a file that should not be mapped based on metadata filtering.">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:17:26.581" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:17:26.582" starttime="20210521 12:17:26.581"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_VENDOR_FILTER}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:26.583" level="INFO">Starting process:
curl 'http://172.18.0.4:8500/v1/kv/pmmapper?dc=dc1' -X PUT -H 'Accept: application/^Con' -H 'Content-Type: application/json' -H 'X-Requested-With: XMLHttpRequest' --data @/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/vendor_filter_config.json</msg>
<msg timestamp="20210521 12:17:26.585" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:26.598" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:26.598" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:26.598" starttime="20210521 12:17:26.582"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:26.600" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:26.600" starttime="20210521 12:17:26.599"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `GET On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${RECONFIGURE_ENDPOINT}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:26.600" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:17:26.621" level="INFO">GET Request : url=http://172.18.0.8:8081/reconfigure 
 path_url=/reconfigure 
 headers={'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.25.1'} 
 body=None 
 </msg>
<msg timestamp="20210521 12:17:26.621" level="INFO">GET Response : url=http://172.18.0.8:8081/reconfigure 
 status=200, reason=OK 
 headers={'Date': 'Fri, 21 May 2021 09:17:26 GMT', 'Connection': 'keep-alive', 'Content-Length': '2'} 
 body=OK 
 </msg>
<msg timestamp="20210521 12:17:26.622" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:26.622" starttime="20210521 12:17:26.600"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>5s</arg>
</arguments>
<msg timestamp="20210521 12:17:31.623" level="INFO">Slept 5 seconds</msg>
<status status="PASS" endtime="20210521 12:17:31.623" starttime="20210521 12:17:26.622"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${TYPE-A_PM_DATA_FILE_PATH}</arg>
<arg>${DIFF_VENDOR_METADATA}</arg>
<arg>X-ONAP-RequestID=9</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:17:31.625" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A20181002.0000-1000-0015-1000_5G.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A20181002.0000-1000-0015-1000_5G.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:31.626" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="MeasDataCollection.xsl"?&gt;
&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"
xmlns:...</msg>
<status status="PASS" endtime="20210521 12:17:31.626" starttime="20210521 12:17:31.625"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:17:31.626" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/diff_vendor_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/diff_vendor_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:31.626" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Anon",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC+05....</msg>
<status status="PASS" endtime="20210521 12:17:31.626" starttime="20210521 12:17:31.626"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:17:31.627" level="INFO">${filename} = A20181002.0000-1000-0015-1000_5G.xml</msg>
<status status="PASS" endtime="20210521 12:17:31.627" starttime="20210521 12:17:31.627"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:17:31.630" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=9', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Anon",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "startE...</msg>
<status status="PASS" endtime="20210521 12:17:31.630" starttime="20210521 12:17:31.629"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:31.722" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:17:31.722" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:31.722" starttime="20210521 12:17:31.630"></status>
</kw>
<msg timestamp="20210521 12:17:31.722" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:31.723" starttime="20210521 12:17:31.627"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:17:31.724" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:31.725" starttime="20210521 12:17:31.724"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:31.725" starttime="20210521 12:17:31.723"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:17:41.727" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:17:41.728" starttime="20210521 12:17:31.725"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:41.728" starttime="20210521 12:17:31.624"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=9</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:41.729" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:41.733" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:41.913" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:41.914" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:41.914" starttime="20210521 12:17:41.729"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:41.915" level="INFO">2021-05-21T09:17:26.603Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:17:26.603Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:17:26.604Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:17:26.616Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": []}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:17:26.619Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:17:26.619Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Configuration update detected.			
2021-05-21T09:17:26.619Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Reconfiguring configurables			
2021-05-21T09:17:26.620Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, ResponseDescription=, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, Severity=, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	
2021-05-21T09:17:35.159Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:17:35.166Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, ResponseDescription=, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, Severity=, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:17:35.169Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:17:35.170Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata does not match any filters, sending process event indicator to DR			
2021-05-21T09:17:35.171Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:17:35.172Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588651717.dmaap-dr-node.			
2021-05-21T09:17:35.214Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:17:41.916" starttime="20210521 12:17:41.915"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:41.917" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:41.917" starttime="20210521 12:17:41.916"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:41.918" starttime="20210521 12:17:41.917"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:41.918" starttime="20210521 12:17:41.728"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Metadata does not match any filters</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:41.920" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:41.923" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:42.068" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:42.070" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:42.070" starttime="20210521 12:17:41.919"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:42.071" level="INFO">2021-05-21T09:17:26.603Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:17:26.603Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:17:26.604Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:17:26.616Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": []}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:17:26.619Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:17:26.619Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Configuration update detected.			
2021-05-21T09:17:26.619Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Reconfiguring configurables			
2021-05-21T09:17:26.620Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=453bc315-e8e8-48e2-b817-b275437f9f69, ServiceName=/reconfigure, ResponseDescription=, InvocationID=c4e5f24d-9ad6-488a-b37f-ce4f20521dd0, Severity=, InvokeTimestamp=2021-05-21T09:17:26.602952Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	
2021-05-21T09:17:35.159Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:17:35.166Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, ResponseDescription=, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, Severity=, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:17:35.169Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:17:35.170Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata does not match any filters, sending process event indicator to DR			
2021-05-21T09:17:35.171Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:17:35.172Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588651717.dmaap-dr-node.			
2021-05-21T09:17:35.214Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=9, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=e28c511a-a953-481f-9b6e-f00010080379, InvokeTimestamp=2021-05-21T09:17:35.158744Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:17:42.071" starttime="20210521 12:17:42.070"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:42.072" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:42.072" starttime="20210521 12:17:42.071"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:42.073" starttime="20210521 12:17:42.072"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:42.073" starttime="20210521 12:17:41.918"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:17:42.074" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:17:42.074" starttime="20210521 12:17:42.074"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:17:42.076" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:42.079" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:42.217" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:17:42.217" starttime="20210521 12:17:42.075"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:42.217" starttime="20210521 12:17:42.075"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:42.218" starttime="20210521 12:17:42.074"></status>
</kw>
<doc>Verify that PM Mapper correctly identifies a file that should not be mapped based on metadata filtering.</doc>
<tags>
<tag>PM_MAPPER_09</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:17:42.218" critical="yes" starttime="20210521 12:17:26.579"></status>
</test>
<test id="s1-s1-t10" name="Verify that PM Mapper correctly identifies a non-xml file.">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:17:42.221" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:17:42.222" starttime="20210521 12:17:42.221"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${NON_XML_FILE}</arg>
<arg>${VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=10</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:17:42.224" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/diff_vendor_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/diff_vendor_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:42.224" level="INFO">${pmdata} = {
    "productName": "gnb",
    "vendorName": "Anon",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC+05....</msg>
<status status="PASS" endtime="20210521 12:17:42.224" starttime="20210521 12:17:42.223"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:17:42.225" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:42.225" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:17:42.225" starttime="20210521 12:17:42.224"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:17:42.226" level="INFO">${filename} = diff_vendor_metadata.json</msg>
<status status="PASS" endtime="20210521 12:17:42.226" starttime="20210521 12:17:42.225"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:17:42.232" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=10', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "s...</msg>
<status status="PASS" endtime="20210521 12:17:42.232" starttime="20210521 12:17:42.231"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:42.269" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:17:42.270" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:42.270" starttime="20210521 12:17:42.232"></status>
</kw>
<msg timestamp="20210521 12:17:42.270" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:42.270" starttime="20210521 12:17:42.226"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:17:42.272" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:42.272" starttime="20210521 12:17:42.272"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:42.273" starttime="20210521 12:17:42.270"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:17:52.274" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:17:52.274" starttime="20210521 12:17:42.273"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:52.275" starttime="20210521 12:17:42.222"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>PM measurement file must have an extension of .xml</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:52.277" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:52.280" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:52.500" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:52.501" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:52.501" starttime="20210521 12:17:52.276"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:52.502" level="INFO">2021-05-21T09:17:46.162Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:17:46.167Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, ResponseDescription=, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, Severity=, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:17:46.171Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:17:46.173Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[])			
2021-05-21T09:17:46.174Z	Thread-2	WARN	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	PM measurement file must have an extension of .xml			
2021-05-21T09:17:46.176Z	Thread-2	WARN	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	PM measurement file type not supported			
2021-05-21T09:17:46.177Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:17:46.182Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588662266.dmaap-dr-node.			
2021-05-21T09:17:46.226Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:17:52.503" starttime="20210521 12:17:52.501"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:52.503" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:52.504" starttime="20210521 12:17:52.503"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:52.505" starttime="20210521 12:17:52.504"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:52.505" starttime="20210521 12:17:52.275"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=10</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:52.507" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:52.510" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:52.644" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:52.647" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:52.647" starttime="20210521 12:17:52.506"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:17:52.649" level="INFO">2021-05-21T09:17:46.162Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:17:46.167Z	XNIO-1 I/O-4	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, ResponseDescription=, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, Severity=, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:17:46.171Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:17:46.173Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[])			
2021-05-21T09:17:46.174Z	Thread-2	WARN	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	PM measurement file must have an extension of .xml			
2021-05-21T09:17:46.176Z	Thread-2	WARN	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	PM measurement file type not supported			
2021-05-21T09:17:46.177Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending processed to DataRouter			
2021-05-21T09:17:46.182Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588662266.dmaap-dr-node.			
2021-05-21T09:17:46.226Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=10, ServiceName=/delivery/diff_vendor_metadata.json, InvocationID=fcb91fda-7ce0-4da4-9654-3bc299a72796, InvokeTimestamp=2021-05-21T09:17:46.161269Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Response code: 200, Server Response Received:\n			</msg>
<status status="PASS" endtime="20210521 12:17:52.649" starttime="20210521 12:17:52.648"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:17:52.649" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:52.650" starttime="20210521 12:17:52.649"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:17:52.650" starttime="20210521 12:17:52.650"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:52.651" starttime="20210521 12:17:52.505"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:17:52.652" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:17:52.652" starttime="20210521 12:17:52.651"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:17:52.653" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:17:52.657" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:52.815" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:17:52.815" starttime="20210521 12:17:52.653"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:52.816" starttime="20210521 12:17:52.652"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:52.816" starttime="20210521 12:17:52.651"></status>
</kw>
<doc>Verify that PM Mapper correctly identifies a non-xml file.</doc>
<tags>
<tag>PM_MAPPER_10</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:17:52.816" critical="yes" starttime="20210521 12:17:42.219"></status>
</test>
<test id="s1-s1-t11" name="Verify that PM Mapper correctly maps an NR Type-A file based on counter filtering and publish 3gpp perf VES events to message router.">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:17:52.819" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:17:52.819" starttime="20210521 12:17:52.818"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_PM_FILTER}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:17:52.820" level="INFO">Starting process:
curl 'http://172.18.0.4:8500/v1/kv/pmmapper?dc=dc1' -X PUT -H 'Accept: application/^Con' -H 'Content-Type: application/json' -H 'X-Requested-With: XMLHttpRequest' --data @/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/pm_filter_config.json</msg>
<msg timestamp="20210521 12:17:52.825" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:17:52.837" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:17:52.838" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:17:52.838" starttime="20210521 12:17:52.820"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `GET On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${RECONFIGURE_ENDPOINT}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:52.839" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:17:52.874" level="INFO">GET Request : url=http://172.18.0.8:8081/reconfigure 
 path_url=/reconfigure 
 headers={'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.25.1'} 
 body=None 
 </msg>
<msg timestamp="20210521 12:17:52.874" level="INFO">GET Response : url=http://172.18.0.8:8081/reconfigure 
 status=200, reason=OK 
 headers={'Date': 'Fri, 21 May 2021 09:17:52 GMT', 'Connection': 'keep-alive', 'Content-Length': '2'} 
 body=OK 
 </msg>
<msg timestamp="20210521 12:17:52.874" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:52.874" starttime="20210521 12:17:52.839"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>5s</arg>
</arguments>
<msg timestamp="20210521 12:17:57.877" level="INFO">Slept 5 seconds</msg>
<status status="PASS" endtime="20210521 12:17:57.877" starttime="20210521 12:17:52.875"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${NR-TYPE-A_PM_DATA_FILE_PATH}</arg>
<arg>${NR_VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=11</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:17:57.879" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/A20181004.0000-1000-0015-1000_5G.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/A20181004.0000-1000-0015-1000_5G.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:57.879" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="MeasDataCollection.xsl"?&gt;
&lt;measDataFile xmlns="http://www.3gpp.org/ftp/specs/archive/28_series/28.532#measData"
xmlns:xsi=...</msg>
<status status="PASS" endtime="20210521 12:17:57.879" starttime="20210521 12:17:57.878"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:17:57.880" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:17:57.881" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:17:57.881" starttime="20210521 12:17:57.880"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:17:57.882" level="INFO">${filename} = A20181004.0000-1000-0015-1000_5G.xml</msg>
<status status="PASS" endtime="20210521 12:17:57.882" starttime="20210521 12:17:57.881"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:17:57.886" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=11', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "s...</msg>
<status status="PASS" endtime="20210521 12:17:57.886" starttime="20210521 12:17:57.885"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:17:57.927" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:17:57.928" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:57.928" starttime="20210521 12:17:57.887"></status>
</kw>
<msg timestamp="20210521 12:17:57.928" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:17:57.928" starttime="20210521 12:17:57.883"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:17:57.930" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:17:57.930" starttime="20210521 12:17:57.930"></status>
</kw>
<status status="PASS" endtime="20210521 12:17:57.931" starttime="20210521 12:17:57.929"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:18:07.932" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:18:07.932" starttime="20210521 12:17:57.931"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:07.933" starttime="20210521 12:17:57.877"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Successfully published VES events to messagerouter</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:07.939" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:07.956" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:08.138" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:08.138" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:08.139" starttime="20210521 12:18:07.937"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:08.140" level="INFO">2021-05-21T09:17:52.856Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:17:52.857Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:17:52.857Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:17:52.868Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": ["attTCHSeizures", "succTCHSeizures2", "succImmediateAssignProcs8"]}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:17:52.871Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:17:52.872Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Configuration update detected.			
2021-05-21T09:17:52.872Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Reconfiguring configurables			
2021-05-21T09:17:52.872Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=9598d188-e168-4590-9d25-017ef22b679d, ServiceName=/reconfigure, ResponseDescription=, InvocationID=2fa4f14f-fbe9-437a-baa3-d16d8cdfcfea, Severity=, InvokeTimestamp=2021-05-21T09:17:52.842955Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	
2021-05-21T09:18:02.662Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:18:02.670Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, ResponseDescription=, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, Severity=, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:18:02.673Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:18:02.674Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[attTCHSeizures, succTCHSeizures2, succImmediateAssignProcs8])			
2021-05-21T09:18:02.693Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:18:02.734Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:02.748Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:18:02.748Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:18:02.763Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:18:02.764Z	Thread-3	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=11, ServiceName=/delivery/A20181004.0000-1000-0015-1000_5G.xml, InvocationID=c9a17535-8e12-45cd-91cb-fd0f120b501d, InvokeTimestamp=2021-05-21T09:18:02.661781Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:18:02.770Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:18:02.770Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		dfd1b8c5-f003-4464-b93d-7fb29f9c4e43		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:18:02.770Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588677923.dmaap-dr-node.			
2021-05-21T09:18:02.804Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:18:02.805Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			</msg>
<status status="PASS" endtime="20210521 12:18:08.141" starttime="20210521 12:18:08.139"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:08.141" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:08.141" starttime="20210521 12:18:08.141"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:08.142" starttime="20210521 12:18:08.142"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:08.142" starttime="20210521 12:18:07.934"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:18:08.144" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:18:08.144" starttime="20210521 12:18:08.144"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:18:08.145" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:08.148" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:08.297" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:18:08.298" starttime="20210521 12:18:08.144"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:08.298" starttime="20210521 12:18:08.144"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:08.298" starttime="20210521 12:18:08.143"></status>
</kw>
<doc>Verify 3GPP PM Mapper maps an NR Type-A file and publish 3gpp perf VES evnets to message router.</doc>
<tags>
<tag>PM_MAPPER_11</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:18:08.298" critical="yes" starttime="20210521 12:17:52.817"></status>
</test>
<test id="s1-s1-t12" name="Verify that PM Mapper correctly maps an NR Type-C file based on counter filtering and publish 3gpp perf VES events to message router.">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:18:08.301" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:18:08.302" starttime="20210521 12:18:08.301"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${NR-TYPE-C_PM_DATA_FILE_PATH}</arg>
<arg>${NR_VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=12</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:18:08.304" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/C20190329.0000-0015.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/C20190329.0000-0015.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:18:08.304" level="INFO">${pmdata} = &lt;measDataFile xmlns="http://www.3gpp.org/ftp/specs/archive/28_series/28.532#measData"&gt;
    &lt;fileHeader dnPrefix="some dnPrefix" vendorName="FooBar Ltd"
                fileFormatVersion="28.532 V1.0"&gt;...</msg>
<status status="PASS" endtime="20210521 12:18:08.304" starttime="20210521 12:18:08.303"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:18:08.305" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:18:08.305" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:18:08.305" starttime="20210521 12:18:08.304"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:18:08.306" level="INFO">${filename} = C20190329.0000-0015.xml</msg>
<status status="PASS" endtime="20210521 12:18:08.306" starttime="20210521 12:18:08.305"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:18:08.309" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=12', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "s...</msg>
<status status="PASS" endtime="20210521 12:18:08.309" starttime="20210521 12:18:08.307"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:18:08.367" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:18:08.367" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:08.367" starttime="20210521 12:18:08.309"></status>
</kw>
<msg timestamp="20210521 12:18:08.368" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:08.368" starttime="20210521 12:18:08.306"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:18:08.369" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:08.369" starttime="20210521 12:18:08.369"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:08.370" starttime="20210521 12:18:08.368"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:18:18.371" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:18:18.371" starttime="20210521 12:18:08.370"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:18.372" starttime="20210521 12:18:08.302"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Successfully published VES events to messagerouter</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:18.375" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:18.381" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:18.541" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:18.541" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:18.541" starttime="20210521 12:18:18.374"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:18.542" level="INFO">2021-05-21T09:18:13.654Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:18:13.656Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, ResponseDescription=, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, Severity=, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:18:13.658Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:18:13.658Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[attTCHSeizures, succTCHSeizures2, succImmediateAssignProcs8])			
2021-05-21T09:18:13.662Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:18:13.699Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:13.700Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	No filter match from the current measurement file.			
2021-05-21T09:18:13.700Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:13.710Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:18:13.710Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:13.718Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:18:13.719Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:18:13.729Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:18:13.729Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:18:13.739Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:18:13.740Z	Thread-4	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=12, ServiceName=/delivery/C20190329.0000-0015.xml, InvocationID=d28c99d8-7627-4977-8ae8-98f87efdff6a, InvokeTimestamp=2021-05-21T09:18:13.654639Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:18:13.747Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:18:13.748Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		525530d7-0158-4f34-8c27-467b46771727		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:18:13.748Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588688364.dmaap-dr-node.			
2021-05-21T09:18:13.773Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:18:13.773Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			</msg>
<status status="PASS" endtime="20210521 12:18:18.543" starttime="20210521 12:18:18.542"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:18.544" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:18.544" starttime="20210521 12:18:18.543"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:18.545" starttime="20210521 12:18:18.544"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:18.545" starttime="20210521 12:18:18.372"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:18:18.546" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:18:18.546" starttime="20210521 12:18:18.546"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:18:18.547" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:18.550" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:18.694" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:18:18.695" starttime="20210521 12:18:18.547"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:18.698" starttime="20210521 12:18:18.546"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:18.698" starttime="20210521 12:18:18.545"></status>
</kw>
<doc>Verify that PM Mapper maps an NR Type-C xml file and publish 3gpp perf VES evnets to message router.</doc>
<tags>
<tag>PM_MAPPER_12</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:18:18.699" critical="yes" starttime="20210521 12:18:08.299"></status>
</test>
<test id="s1-s1-t13" name="Verify 3GPP PM Mapper maps Type-A file based on counter filtering with regexp">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:18:18.702" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:18:18.702" starttime="20210521 12:18:18.701"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_PM_FILTER_regex}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:18.703" level="INFO">Starting process:
curl 'http://172.18.0.4:8500/v1/kv/pmmapper?dc=dc1' -X PUT -H 'Accept: application/^Con' -H 'Content-Type: application/json' -H 'X-Requested-With: XMLHttpRequest' --data @/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/pm_filter_regex_config.json</msg>
<msg timestamp="20210521 12:18:18.706" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:18.717" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:18.718" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:18.718" starttime="20210521 12:18:18.703"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>*DEPRECATED* Please use `GET On Session` instead.</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${RECONFIGURE_ENDPOINT}</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:18:18.718" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:18:18.738" level="INFO">GET Request : url=http://172.18.0.8:8081/reconfigure 
 path_url=/reconfigure 
 headers={'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.25.1'} 
 body=None 
 </msg>
<msg timestamp="20210521 12:18:18.739" level="INFO">GET Response : url=http://172.18.0.8:8081/reconfigure 
 status=200, reason=OK 
 headers={'Date': 'Fri, 21 May 2021 09:18:18 GMT', 'Connection': 'keep-alive', 'Content-Length': '2'} 
 body=OK 
 </msg>
<msg timestamp="20210521 12:18:18.739" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:18.739" starttime="20210521 12:18:18.718"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>5s</arg>
</arguments>
<msg timestamp="20210521 12:18:23.740" level="INFO">Slept 5 seconds</msg>
<status status="PASS" endtime="20210521 12:18:23.741" starttime="20210521 12:18:18.739"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${TYPE-A_PM_DATA_FILE_PATH}</arg>
<arg>${VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=13</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:18:23.743" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A20181002.0000-1000-0015-1000_5G.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/A20181002.0000-1000-0015-1000_5G.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:18:23.744" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="MeasDataCollection.xsl"?&gt;
&lt;measCollecFile xmlns="http://www.3gpp.org/ftp/specs/archive/32_series/32.435#measCollec"
xmlns:...</msg>
<status status="PASS" endtime="20210521 12:18:23.744" starttime="20210521 12:18:23.743"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:18:23.745" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:18:23.746" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:18:23.746" starttime="20210521 12:18:23.745"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:18:23.747" level="INFO">${filename} = A20181002.0000-1000-0015-1000_5G.xml</msg>
<status status="PASS" endtime="20210521 12:18:23.747" starttime="20210521 12:18:23.746"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:18:23.752" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=13', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "s...</msg>
<status status="PASS" endtime="20210521 12:18:23.753" starttime="20210521 12:18:23.750"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:18:23.798" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:18:23.798" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:23.798" starttime="20210521 12:18:23.753"></status>
</kw>
<msg timestamp="20210521 12:18:23.798" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:23.798" starttime="20210521 12:18:23.748"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:18:23.800" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:23.800" starttime="20210521 12:18:23.799"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:23.800" starttime="20210521 12:18:23.798"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:18:33.803" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:18:33.803" starttime="20210521 12:18:23.800"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:33.803" starttime="20210521 12:18:23.741"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Successfully published VES events to messagerouter</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:33.805" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:33.807" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:33.961" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:33.962" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:33.962" starttime="20210521 12:18:33.804"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:33.963" level="INFO">2021-05-21T09:18:18.722Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8			ENTRY	
2021-05-21T09:18:18.723Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:18:18.723Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:18:18.733Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": ["att.*"]}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks.b64", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks.b64", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:18:18.736Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:18:18.736Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Configuration update detected.			
2021-05-21T09:18:18.737Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8	Reconfiguring configurables			
2021-05-21T09:18:18.737Z	XNIO-1 I/O-3	INFO	org.onap.dcaegen2.services.pmmapper.config.DynamicConfiguration	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=f680c11b-2305-40f8-b362-5604d9156326, ServiceName=/reconfigure, ResponseDescription=, InvocationID=ef6cb919-26b6-4154-a95d-2e08884900b5, Severity=, InvokeTimestamp=2021-05-21T09:18:18.722245Z, PartnerName=, ClientIPAddress=/172.18.0.1, ServerFQDN=172.18.0.8, StatusCode=			EXIT	
2021-05-21T09:18:22.572Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:18:22.573Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		b58cbca9-6553-4db0-b9c9-26b71b5b522e		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:18:22.574Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:18:22.608Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": [{"pmDefVsn": "1.0", "nfType": "gnb", "vendor": "Ericsson", "measTypes": ["att.*"]}]}, "key_store_path": "/opt/app/pm-mapper/etc/cert.jks.b64", "key_store_pass_path": "/opt/app/pm-mapper/etc/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/trust.jks.b64", "trust_store_pass_path": "/opt/app/pm-mapper/etc/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:18:22.613Z	Config-1	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:18:24.662Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:18:24.666Z	XNIO-1 I/O-1	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, ResponseDescription=, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, Severity=, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:18:24.668Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:18:24.669Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[att.*])			
2021-05-21T09:18:24.682Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:18:24.716Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:24.725Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:18:24.726Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:18:24.740Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:18:24.740Z	Thread-1	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=13, ServiceName=/delivery/A20181002.0000-1000-0015-1000_5G.xml, InvocationID=ba678a78-5982-4630-9529-9d5dac2bcb63, InvokeTimestamp=2021-05-21T09:18:24.662191Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:18:24.747Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:18:24.748Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		aa93b65f-16ee-4620-b3d6-87ba4649580f		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:18:24.748Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588703795.dmaap-dr-node.			
2021-05-21T09:18:24.770Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:18:24.770Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			</msg>
<status status="PASS" endtime="20210521 12:18:33.964" starttime="20210521 12:18:33.963"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:33.965" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:33.965" starttime="20210521 12:18:33.964"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:33.966" starttime="20210521 12:18:33.966"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:33.967" starttime="20210521 12:18:33.803"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:18:33.968" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:18:33.968" starttime="20210521 12:18:33.968"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:18:33.970" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:33.972" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:34.129" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:18:34.129" starttime="20210521 12:18:33.969"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.129" starttime="20210521 12:18:33.969"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.130" starttime="20210521 12:18:33.967"></status>
</kw>
<doc>Verify 3GPP PM Mapper maps Type-A file based on counter filtering with wildcards/regexp and publish 3gpp perf VES evnets to message router.</doc>
<tags>
<tag>PM_MAPPER_13</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:18:34.130" critical="yes" starttime="20210521 12:18:18.699"></status>
</test>
<test id="s1-s1-t14" name="Verify that password receive from CBS are successfully encrypted">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:18:34.132" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:18:34.133" starttime="20210521 12:18:34.132"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_CONFIG}</arg>
<arg>"aaf_password": *****</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:34.135" level="INFO">Starting process:
{ head -n 100 | tail -50;} &lt; /tmp/pmmapper.log</msg>
<msg timestamp="20210521 12:18:34.138" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:34.139" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:34.140" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.140" starttime="20210521 12:18:34.134"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:34.141" level="INFO">2021-05-21T09:16:21.589Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:16:21.631Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		5b2ae18b-e626-4477-ad22-33860c4fab99		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:16:21.639Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:16:21.691Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": []}, "key_store_path": "/opt/app/pm-mapper/etc/certs/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/certs/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/certs/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/certs/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:16:21.835Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:16:22.502Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Attempt to read threads configuration			
2021-05-21T09:16:22.504Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		PROCESSING_THREADS_COUNT env not present. Setting threads count to available cores: 4			
2021-05-21T09:16:22.505Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		THREADS_MULTIPLIER env not present. Setting multiplier to default value: 1			
2021-05-21T09:16:22.506Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Processing threads configuration: Processing threads count - 4, Processing threads multiplier - 1 			
2021-05-21T09:16:22.506Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Amount of files processing threads: 4 			
2021-05-21T09:16:22.509Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Trying to read PROCESSING_LIMIT_RATE env.			
2021-05-21T09:16:22.511Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		PROCESSING_LIMIT_RATE env not present. Setting limit rate to default value: 1			
2021-05-21T09:16:22.714Z	main	INFO	io.undertow		starting server: Undertow - 2.2.3.Final			
2021-05-21T09:16:22.723Z	main	INFO	org.xnio		XNIO version 3.8.0.Final			
2021-05-21T09:16:22.736Z	main	INFO	org.xnio.nio		XNIO NIO Implementation Version 3.8.0.Final			
2021-05-21T09:16:22.854Z	main	INFO	org.jboss.threads		JBoss Threads version 3.1.0.Final			</msg>
<status status="PASS" endtime="20210521 12:18:34.141" starttime="20210521 12:18:34.140"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:34.142" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.142" starttime="20210521 12:18:34.141"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:34.144" starttime="20210521 12:18:34.142"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.144" starttime="20210521 12:18:34.133"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_CONFIG}</arg>
<arg>"password": *****</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:34.146" level="INFO">Starting process:
{ head -n 100 | tail -50;} &lt; /tmp/pmmapper.log</msg>
<msg timestamp="20210521 12:18:34.149" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:34.150" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:34.150" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.150" starttime="20210521 12:18:34.145"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:34.152" level="INFO">2021-05-21T09:16:21.589Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Fetching pm-mapper configuration from Configbinding Service			
2021-05-21T09:16:21.631Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		5b2ae18b-e626-4477-ad22-33860c4fab99		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:16:21.639Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending GET request to http://172.18.0.5:10000/service_component/pmmapper.			
2021-05-21T09:16:21.691Z	main	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n{"pm-mapper-filter": {"filters": []}, "key_store_path": "/opt/app/pm-mapper/etc/certs/cert.jks", "key_store_pass_path": "/opt/app/pm-mapper/etc/certs/jks.pass", "trust_store_path": "/opt/app/pm-mapper/etc/certs/trust.jks", "trust_store_pass_path": "/opt/app/pm-mapper/etc/certs/trust.pass", "dmaap_dr_delete_endpoint": "https://dmaap-dr-node:8443/delete", "dmaap_dr_feed_name": "1", "aaf_identity": "aaf_admin@people.osaaf.org", "aaf_password": *****, "enable_http": true, "streams_publishes": {"dmaap_publisher": {"type": "message_router", "dmaap_info": {"topic_url": "http://message-router:3904/events/org.onap.dmaap.mr.VES_PM", "client_role": "org.onap.dcae.pmPublisher", "location": "csit-pmmapper", "client_id": "1562763644939"}}}, "streams_subscribes": {"dmaap_subscriber": {"type": "data_router", "dmaap_info": {"username": "username", "password": *****, "location": "csit-pmmapper", "delivery_url": "http://dcae-pm-mapper:8081/delivery", "subscriber_id": 1}}}}			
2021-05-21T09:16:21.835Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.ConfigHandler		Received pm-mapper configuration from ConfigBinding Service			
2021-05-21T09:16:22.502Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Attempt to read threads configuration			
2021-05-21T09:16:22.504Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		PROCESSING_THREADS_COUNT env not present. Setting threads count to available cores: 4			
2021-05-21T09:16:22.505Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		THREADS_MULTIPLIER env not present. Setting multiplier to default value: 1			
2021-05-21T09:16:22.506Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Processing threads configuration: Processing threads count - 4, Processing threads multiplier - 1 			
2021-05-21T09:16:22.506Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Amount of files processing threads: 4 			
2021-05-21T09:16:22.509Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		Trying to read PROCESSING_LIMIT_RATE env.			
2021-05-21T09:16:22.511Z	main	INFO	org.onap.dcaegen2.services.pmmapper.config.FilesProcessingConfig		PROCESSING_LIMIT_RATE env not present. Setting limit rate to default value: 1			
2021-05-21T09:16:22.714Z	main	INFO	io.undertow		starting server: Undertow - 2.2.3.Final			
2021-05-21T09:16:22.723Z	main	INFO	org.xnio		XNIO version 3.8.0.Final			
2021-05-21T09:16:22.736Z	main	INFO	org.xnio.nio		XNIO NIO Implementation Version 3.8.0.Final			
2021-05-21T09:16:22.854Z	main	INFO	org.jboss.threads		JBoss Threads version 3.1.0.Final			</msg>
<status status="PASS" endtime="20210521 12:18:34.152" starttime="20210521 12:18:34.151"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:34.152" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.153" starttime="20210521 12:18:34.152"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:34.153" starttime="20210521 12:18:34.153"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.154" starttime="20210521 12:18:34.144"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:18:34.155" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:18:34.155" starttime="20210521 12:18:34.155"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:18:34.156" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:34.162" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:34.345" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:18:34.345" starttime="20210521 12:18:34.156"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.346" starttime="20210521 12:18:34.155"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.346" starttime="20210521 12:18:34.154"></status>
</kw>
<doc>Verify that password receive from CBS are successfully encrypted.</doc>
<tags>
<tag>PM_MAPPER_14</tag>
</tags>
<status status="PASS" endtime="20210521 12:18:34.346" critical="yes" starttime="20210521 12:18:34.130"></status>
</test>
<test id="s1-s1-t15" name="Verify that PM Mapper correctly maps an NR Type-PM file based on counter filtering and publish 3gpp perf VES events to message router.">
<kw type="setup" name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>mapper_session</arg>
<arg>${PMMAPPER_BASE_URL}</arg>
</arguments>
<msg timestamp="20210521 12:18:34.349" level="INFO">Creating Session using : alias=mapper_session, url=http://172.18.0.8:8081, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" endtime="20210521 12:18:34.350" starttime="20210521 12:18:34.349"></status>
</kw>
<kw name="SendToDatarouter">
<arguments>
<arg>${NR-TYPE-PM_DATA_FILE_PATH}</arg>
<arg>${NR_VALID_METADATA_PATH}</arg>
<arg>X-ONAP-RequestID=15</arg>
</arguments>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${filepath}</arg>
</arguments>
<assign>
<var>${pmdata}</var>
</assign>
<msg timestamp="20210521 12:18:34.351" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:18:34.352" level="INFO">${pmdata} = &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="MeasDataCollection.xsl"?&gt;
&lt;measDataFile xmlns="http://www.3gpp.org/ftp/specs/archive/28_series/28.532#measData"
xmlns:xsi=...</msg>
<status status="PASS" endtime="20210521 12:18:34.352" starttime="20210521 12:18:34.351"></status>
</kw>
<kw name="Get File" library="OperatingSystem">
<doc>Returns the contents of a specified file.</doc>
<arguments>
<arg>${metadatapath}</arg>
</arguments>
<assign>
<var>${metatdata}</var>
</assign>
<msg timestamp="20210521 12:18:34.353" html="yes" level="INFO">Getting file '&lt;a href="file:///home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/valid_metadata.json"&gt;/home/lasse/upstream/pm-mapper/csit/tests/pmmapper/assets/new_radio/valid_metadata.json&lt;/a&gt;'.</msg>
<msg timestamp="20210521 12:18:34.353" level="INFO">${metatdata} = {
    "productName": "gnb",
    "vendorName": "Ericsson",
    "lastEpochMicrosec": "1538478000000",
    "sourceName": "oteNB5309",
    "startEpochMicrosec": "1538478900000",
    "timeZoneOffset": "UTC...</msg>
<status status="PASS" endtime="20210521 12:18:34.353" starttime="20210521 12:18:34.352"></status>
</kw>
<kw name="Fetch From Right" library="String">
<doc>Returns contents of the ``string`` after the last occurrence of ``marker``.</doc>
<arguments>
<arg>${filepath}</arg>
<arg>/</arg>
</arguments>
<assign>
<var>${filename}</var>
</assign>
<msg timestamp="20210521 12:18:34.354" level="INFO">${filename} = PM202007171301+020024C202007171207+0200-1215+0200_45678.xml</msg>
<status status="PASS" endtime="20210521 12:18:34.354" starttime="20210521 12:18:34.353"></status>
</kw>
<kw name="PutCall">
<arguments>
<arg>${PUBLISH_NODE_URL}/${filename}</arg>
<arg>${request_id}</arg>
<arg>${pmdata}</arg>
<arg>${metatdata.replace("\n","")}</arg>
<arg>pmmapper</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>X-ONAP-RequestID=${request_id}</arg>
<arg>X-DMAAP-DR-META=${meta}</arg>
<arg>Content-Type=application/octet-stream</arg>
<arg>X-DMAAP-DR-ON-BEHALF-OF=${user}</arg>
<arg>Authorization=Basic cG1tYXBwZXI6cG1tYXBwZXI=</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20210521 12:18:34.356" level="INFO">${headers} = {u'X-ONAP-RequestID': u'X-ONAP-RequestID=15', u'X-DMAAP-DR-META': u'{    "productName": "gnb",    "vendorName": "Ericsson",    "lastEpochMicrosec": "1538478000000",    "sourceName": "oteNB5309",    "s...</msg>
<status status="PASS" endtime="20210521 12:18:34.356" starttime="20210521 12:18:34.355"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>requests.put('${url}', data="""${data}""", headers=${headers}, verify=False, allow_redirects=False)</arg>
<arg>requests</arg>
</arguments>
<assign>
<var>${resp}</var>
</assign>
<msg timestamp="20210521 12:18:34.394" level="INFO">/usr/local/lib/python2.7/dist-packages/urllib3/connectionpool.py:988: InsecureRequestWarning: Unverified HTTPS request is being made to host '172.18.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning,</msg>
<msg timestamp="20210521 12:18:34.394" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.394" starttime="20210521 12:18:34.356"></status>
</kw>
<msg timestamp="20210521 12:18:34.395" level="INFO">${resp} = &lt;Response [204]&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.395" starttime="20210521 12:18:34.354"></status>
</kw>
<kw name="VerifyResponse">
<arguments>
<arg>${resp.status_code}</arg>
<arg>204</arg>
</arguments>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${actual_response_value}</arg>
<arg>${expected_response_value}</arg>
</arguments>
<msg timestamp="20210521 12:18:34.398" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:34.403" starttime="20210521 12:18:34.397"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:34.403" starttime="20210521 12:18:34.395"></status>
</kw>
<kw name="Sleep" library="BuiltIn">
<doc>Pauses the test executed for the given time.</doc>
<arguments>
<arg>10s</arg>
</arguments>
<msg timestamp="20210521 12:18:44.404" level="INFO">Slept 10 seconds</msg>
<status status="PASS" endtime="20210521 12:18:44.404" starttime="20210521 12:18:34.403"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:44.404" starttime="20210521 12:18:34.350"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>RequestID=15</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:44.406" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:44.409" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:44.551" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:44.552" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:44.552" starttime="20210521 12:18:44.405"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:44.553" level="INFO">2021-05-21T09:18:35.666Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:18:35.671Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, ResponseDescription=, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, Severity=, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:18:35.672Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:18:35.673Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[att.*])			
2021-05-21T09:18:35.679Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:18:35.702Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:35.711Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:18:35.711Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:18:35.726Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:18:35.726Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:18:35.732Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:18:35.733Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		7c84d3fe-1577-43ce-b5eb-1f6a74dd2102		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:18:35.733Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588714385.dmaap-dr-node.			
2021-05-21T09:18:35.759Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:18:35.760Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			</msg>
<status status="PASS" endtime="20210521 12:18:44.554" starttime="20210521 12:18:44.553"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:44.555" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:44.555" starttime="20210521 12:18:44.554"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:44.555" starttime="20210521 12:18:44.555"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:44.556" starttime="20210521 12:18:44.404"></status>
</kw>
<kw name="CheckLog">
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG}</arg>
<arg>Successfully published VES events to messagerouter</arg>
</arguments>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${cli_exec_log_Path}</arg>
<arg>shell=yes</arg>
</arguments>
<assign>
<var>${cli_cmd_output}</var>
</assign>
<msg timestamp="20210521 12:18:44.557" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "cat /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:44.561" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:44.722" level="INFO">Process completed.</msg>
<msg timestamp="20210521 12:18:44.723" level="INFO">${cli_cmd_output} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" endtime="20210521 12:18:44.723" starttime="20210521 12:18:44.557"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
</arguments>
<msg timestamp="20210521 12:18:44.725" level="INFO">2021-05-21T09:18:35.666Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper			ENTRY	
2021-05-21T09:18:35.671Z	XNIO-1 I/O-2	INFO	org.onap.dcaegen2.services.pmmapper.datarouter.DeliveryHandler	ResponseCode=, InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, ResponseDescription=, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, Severity=, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper, StatusCode=			EXIT	
2021-05-21T09:18:35.672Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering event metadata			
2021-05-21T09:18:35.673Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MetadataFilter	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Metadata matches filter: MeasFilterConfig.Filter(dictionaryVersion=1.0, nfType=gnb, vendor=Ericsson, measTypes=[att.*])			
2021-05-21T09:18:35.679Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.XMLValidator	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	XML validation successful			
2021-05-21T09:18:35.702Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Filtering the measurement file by measTypes.			
2021-05-21T09:18:35.711Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.filtering.MeasFilterHandler	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Successfully filtered the measurement by measTypes.			
2021-05-21T09:18:35.711Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Mapping event			
2021-05-21T09:18:35.726Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.mapping.Mapper	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Data mapped successfully			
2021-05-21T09:18:35.726Z	Thread-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher	InstanceUUID=25f60689-4d3a-4278-9599-91eb8c5f218a, RequestID=X-ONAP-RequestID=15, ServiceName=/delivery/PM202007171301+020024C202007171207+0200-1215+0200_45678.xml, InvocationID=76e17ff8-e69f-4663-bd41-fc1fd7569d82, InvokeTimestamp=2021-05-21T09:18:35.666460Z, PartnerName=, ClientIPAddress=/172.18.0.2, ServerFQDN=dcae-pm-mapper	Publishing VES events to messagerouter.			
2021-05-21T09:18:35.732Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.DataRouterUtils		Sending processed to DataRouter			
2021-05-21T09:18:35.733Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		7c84d3fe-1577-43ce-b5eb-1f6a74dd2102		INVOKE [ SYNCHRONOUS ]	
2021-05-21T09:18:35.733Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Sending DELETE request to https://dmaap-dr-node:8443/delete/1/1621588714385.dmaap-dr-node.			
2021-05-21T09:18:35.759Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.utils.RequestSender		Response code: 200, Server Response Received:\n			
2021-05-21T09:18:35.760Z	reactor-http-epoll-2	INFO	org.onap.dcaegen2.services.pmmapper.messagerouter.VESPublisher		Successfully published VES events to messagerouter.			</msg>
<status status="PASS" endtime="20210521 12:18:44.725" starttime="20210521 12:18:44.724"></status>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to strings.</doc>
<arguments>
<arg>${cli_cmd_output.rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20210521 12:18:44.726" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210521 12:18:44.726" starttime="20210521 12:18:44.725"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${cli_cmd_output.stdout}</arg>
<arg>${string_to_check_in_log}</arg>
</arguments>
<status status="PASS" endtime="20210521 12:18:44.727" starttime="20210521 12:18:44.726"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:44.727" starttime="20210521 12:18:44.556"></status>
</kw>
<kw type="teardown" name="CleanSessionsAndLogs">
<kw name="Delete All Sessions" library="RequestsLibrary">
<doc>Removes all the session objects</doc>
<msg timestamp="20210521 12:18:44.728" level="INFO">Delete All Sessions</msg>
<status status="PASS" endtime="20210521 12:18:44.729" starttime="20210521 12:18:44.728"></status>
</kw>
<kw name="ClearLogs">
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>${CLI_EXEC_CLI_PM_LOG_CLEAR}</arg>
<arg>shell=yes</arg>
</arguments>
<msg timestamp="20210521 12:18:44.730" level="INFO">Starting process:
docker exec pmmapper /bin/sh -c "echo -n "" &gt; /var/log/ONAP/dcaegen2/services/pm-mapper/pm-mapper_output.log"</msg>
<msg timestamp="20210521 12:18:44.732" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20210521 12:18:44.872" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20210521 12:18:44.872" starttime="20210521 12:18:44.729"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:44.872" starttime="20210521 12:18:44.729"></status>
</kw>
<status status="PASS" endtime="20210521 12:18:44.873" starttime="20210521 12:18:44.728"></status>
</kw>
<doc>Verify that PM Mapper maps an NR Type-PM xml file and publish 3gpp perf VES evnets to message router.</doc>
<tags>
<tag>PM_MAPPER_15</tag>
</tags>
<timeout value="1 minute"></timeout>
<status status="PASS" endtime="20210521 12:18:44.873" critical="yes" starttime="20210521 12:18:34.347"></status>
</test>
<doc>Testing PM Mapper functionality</doc>
<status status="PASS" endtime="20210521 12:18:44.875" starttime="20210521 12:16:38.350"></status>
</suite>
<doc>PM Mapper Testcases</doc>
<status status="PASS" endtime="20210521 12:18:44.883" starttime="20210521 12:16:38.322"></status>
</suite>
<statistics>
<total>
<stat fail="0" pass="15">Critical Tests</stat>
<stat fail="0" pass="15">All Tests</stat>
</total>
<tag>
<stat fail="0" pass="1">PM_MAPPER_01</stat>
<stat fail="0" pass="1">PM_MAPPER_02</stat>
<stat fail="0" pass="1">PM_MAPPER_03</stat>
<stat fail="0" pass="1">PM_MAPPER_04</stat>
<stat fail="0" pass="1">PM_MAPPER_05</stat>
<stat fail="0" pass="1">PM_MAPPER_06</stat>
<stat fail="0" pass="1">PM_MAPPER_07</stat>
<stat fail="0" pass="1">PM_MAPPER_08</stat>
<stat fail="0" pass="1">PM_MAPPER_09</stat>
<stat fail="0" pass="1">PM_MAPPER_10</stat>
<stat fail="0" pass="1">PM_MAPPER_11</stat>
<stat fail="0" pass="1">PM_MAPPER_12</stat>
<stat fail="0" pass="1">PM_MAPPER_13</stat>
<stat fail="0" pass="1">PM_MAPPER_14</stat>
<stat fail="0" pass="1">PM_MAPPER_15</stat>
</tag>
<suite>
<stat fail="0" id="s1" name="plans/pmmapper" pass="15">plans/pmmapper</stat>
<stat fail="0" id="s1-s1" name="Pmmapper" pass="15">plans/pmmapper.Pmmapper</stat>
</suite>
</statistics>
<errors>
<msg timestamp="20210521 12:16:38.660" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:16:38.884" level="WARN">Keyword 'RequestsLibrary.Put Request' is deprecated. Please use `PUT On Session` instead.</msg>
<msg timestamp="20210521 12:16:39.232" level="WARN">Keyword 'RequestsLibrary.Put Request' is deprecated. Please use `PUT On Session` instead.</msg>
<msg timestamp="20210521 12:17:11.164" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:17:26.600" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:17:52.839" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
<msg timestamp="20210521 12:18:18.718" level="WARN">Keyword 'RequestsLibrary.Get Request' is deprecated. Please use `GET On Session` instead.</msg>
</errors>
</robot>
